<html>
	<head>
		<style>
			body { font-family: sans, sans-serif; background-color: white; }
			div{
				margin:10px;
			}
		</style>
		<script>
			function debug(result)
			{
				var el = document.getElementById("debug");
				
				var html = "<div>You selected the following:</div>";
				html+="<ul>";
				for (var c=0;c<result.length;c++)
				{
					var row = result[c];
					html+="<li>"+row+"</li>";
				}
				html+="</ul>";
				el.innerHTML = html;
			}
			function log(s)
			{
				var el = document.getElementById("log");

				el.innerHTML = s;
			}
			function chooseFiles()
			{
				var result = Titanium.Desktop.openFiles();
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseFilesWithPath()
			{
				var result = Titanium.Desktop.openFiles({
					path: 'c:\\windows'
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseFilesWithPathAndFilename()
			{
				var result = Titanium.Desktop.openFiles({
					path: 'c:\\windows',
					filename: 'notepad.exe'
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseDirs()
			{
				var result = Titanium.Desktop.openFiles({
					directories:true,
					files:false
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseDirsAndFiles()
			{
				var result = Titanium.Desktop.openFiles({
					directories:true,
					files:true
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseMultiple()
			{
				var result = Titanium.Desktop.openFiles({
					directories:true,
					files:true,
					multiple:true
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function chooseFileTypes()
			{
				var result = Titanium.Desktop.openFiles({
					directories:false,
					files:true,
					multiple:true,
					types:[
						'js','html'
					],
					typesDescription: 'Web Files'
				});
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function openApp()
			{
				var name = prompt("which app?");
				if (name)
				{
					Titanium.Desktop.openApplication(name);
				}
			}
			function openURL()
			{
				Titanium.Desktop.openURL("http://titaniumapp.com");
			}
			function openURLEx()
			{
				try
				{
					Titanium.Desktop.openURL();
				}
				catch (e)
				{
					log("exception: "+e);
				}
			}
			function createShortcut()
			{
				// alert, prompt etc not yet working in windows, so use input fields
				var from = document.getElementById("createShortcut_param1").value;
				var to = document.getElementById("createShortcut_param2").value;
				var worked =Titanium.Desktop.createShortcut(from,to);
				log("Worked? " + (worked?"you bet ya!":"nope..."));
			}
		</script>
	</head>
	<body>
		<h2>Titanium Desktop test app</h2>
		<div>
			<button onclick="chooseFiles()">Open File Dialog (default)</button>
		</div>
		<div>
			<button onclick="chooseFilesWithPath()">Open File Dialog (with path)</button>
		</div>
		<div>
			<button onclick="chooseFilesWithPathAndFilename()">Open File Dialog (with path & filename)</button>
		</div>
		<div>
			<button onclick="chooseDirs()">Open File Dialog (directories only)</button>
		</div>
		<div>
			<button onclick="chooseDirsAndFiles()">Open File Dialog (directories+files)</button>
		</div>
		<div>
			<button onclick="chooseMultiple()">Open File Dialog (multiple selection)</button>
		</div>
		<div>
			<button onclick="chooseFileTypes()">Open File Dialog (JS or HTML files only)</button>
		</div>
		<div>
			<button onclick="openApp()">Open Application</button>
		</div>
		<div>
			<button onclick="openURL()">Open URL</button>
		</div>
		<div>
			<button onclick="openURLEx()">Open URL with no parameters (test exception)</button>
		</div>
		<div>
			<button onclick="createShortcut()">Create Shortcut</button><br/>
			from<input id="createShortcut_param1" size="75" value="test-file.txt" /><br/>
			to<input id="createShortcut_param2" size="75" value="test-file-shortcut" />
		</div>
		<div id="log">
		</div>
		<div id="debug">
		</div>
	</body>
</html>
